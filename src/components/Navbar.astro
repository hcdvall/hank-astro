---
const links = [
  { href: "/home", label: "Home" },
  { href: "/about", label: "About" },
  { href: "/blog", label: "Blog" },
  { href: "/projects", label: "Projects" },
];

---
<nav class="navbar">
  <div class="navbar-brand">
    <svg class="navbar-robot" width="102" height="102" fill="currentColor" viewBox="0 0 120 120">
      <path d="M17.245,91.296c-.226-1-1.416-1.033-1.7-1.974a51.252,51.252,0,0,1-1.127-12.424c-.523-4.089-1.44-7.785-1.978-11.857-2.785.32-5.336.876-7.056,2.257a30.453,30.453,0,0,0-1.415,11.295c.574,2.345,1.024,4.81,1.415,7.34.712,1.975,1.6,5.241-1.415,5.363-2.2-.436-2.106-3.166-2.54-5.363-.624-.035-.119-1.2-.283-1.694-.625-.035-.121-1.2-.282-1.695-.559-.668-.321-2.125-.848-2.823a41.643,41.643,0,0,1,1.694-13.553,10.935,10.935,0,0,1,6.775-4.233,6.6,6.6,0,0,1,3.109.563c.4-1.6-1.139-3.519-.85-5.927.465-1.046,2-1.01,2.541-1.98.4.028.8.049.85-.28,7.449-.175,13.027-2.219,20.044-2.823a64.375,64.375,0,0,0,7.908.284c-.012-1.779-.559-3.023-.567-4.8h-14.116a6.813,6.813,0,0,1-2.824-.848c-.878.735-2.1.01-2.822-.282-.859-1.861-.229-4.945,0-7.341v-9.316c.526-3.71.015-8.454,1.409-11.3,2.786-.791,6.432-.721,9.035-1.692.688-.348-.886-.783-1.129-1.13a2.622,2.622,0,0,1-.849-1.976c.2-2.158,2.791-1.919,3.389-3.669-.79-.53-2.407-.227-2.822-1.13-1.083-.144-2.193-.256-2.26-1.413-.265-2.053,1.355-2.219,2.822-2.541-1.413-3.481,2.426-5.147,5.649-3.952.541,1.315.377,3.553-.568,4.234-.992.8-2.3,1.273-3.1,2.258.317.531,1.093.6,1.411,1.13.187.011.393,0,.6,0,.671-.024,1.345-.049,1.376.569.072,2.051-1.467,2.489-1.976,3.952.659,1.038,2.4.984,1.976,3.106,10.8-.774,21.4-1.751,33.035-1.693a5.26,5.26,0,0,0,2.258.281c1.858,1.152,4.865,1.158,5.928,3.109.148,2.307-.814,3.513-1.13,5.362v21.176c-.512.334-.22,1.472-.566,1.976-.091.662-.872.632-1.129,1.129-2.018.415-2.43-.772-3.387-1.412-.244.4-.946.343-1.649.285a4.506,4.506,0,0,0-1.176,0,2.821,2.821,0,0,0-1.412.14,2.813,2.813,0,0,1-1.41.141c-1.691.287-3.676.279-5.364.565-.189,1.973.252,3.324.282,5.083,2.476.005,4.742-.155,7.047-.314a82.313,82.313,0,0,1,9.894-.252c2.65.738,6.216.562,8.752,1.411.314,1.1.14,2.684.847,3.388-.533,1.445.3,3.292,0,5.366a15.185,15.185,0,0,0,2.258-.283c3.345-1.012,7.768-.13,9.316,2.823.258.494.1,1.409.567,1.695.033,1.941-.152,4.1.282,5.646v9.883a21.1,21.1,0,0,1-.282,4.515c.153,1.753-.547,2.657-2.257,2.543-2.074-.063-1.417-3.495-1.13-5.083V65.323c-.743-1.841-3.393-1.771-6.043-1.7-.828.022-1.657.043-2.426.007v22.022c-.044,2.4.292,5.189-1.415,5.931-1.606-.09-1.572-1.814-1.976-3.107v-4.8c-.8-8.235.232-18.3-.563-26.538-2.623-.485-5.749-.464-7.906-1.413-10.109-.384-18.9-.031-28.8.282-5.007.734-10.874.611-15.531,1.7-4.808.836-8.574,2.718-13.27,3.67a128.433,128.433,0,0,1,1.976,21.74,14.185,14.185,0,0,0,.849,3.106v4.517c-.122,1.292-.618,2.209-1.979,2.26h-.06A1.719,1.719,0,0,1,17.245,91.296Zm-3.389-32.751h.567v-.562h-.567Zm41.786-11.291c.8,1.462-.539,5.055,2.257,4.518a22.662,22.662,0,0,1-.281-4.8h-3.669c-.017.759.289.568.717.376a1.586,1.586,0,0,1,.632-.171A.777.777,0,0,1,55.642,47.253Zm-28.233-26.541a28.252,28.252,0,0,0,.282,5.648c-.143,3.154.154,5.868.283,8.752v6.775c.081.495-.792,1.409,0,1.694.855-1.121,3.277-.673,4.8-1.129,4.006-.118,7.778,0,11.551.117,2.89.091,5.78.181,8.776.166.13-.4.716-.343,1.3-.286a3.145,3.145,0,0,0,.956,0h2.54a12.359,12.359,0,0,0,2.245-.163,10.9,10.9,0,0,1,2.84-.119,57.144,57.144,0,0,1,9.6-.849c-.067-7.052-.988-15.592.563-21.74-2.182-1.038-5.491-.944-8.8-.85-1.627.047-3.255.093-4.748,0-.364.014-.392.361-.848.282-5.221.238-10.549.368-16.095.283C37.18,19.376,32.907,20.657,27.409,20.712Zm8.188,68.891a32.544,32.544,0,0,1-4.518-.846c.744-.665,2.391-.433,3.388-.848h3.388c1.772-.2,3.266-.687,5.081-.847,1.311-.026,3.614-1.374,4.519,0,.157,2.7-3.263,1.816-5.081,2.541Zm29.08-4.234c-.329-2.894,2.756-4.855,3.951-2.26q.192,2.727-1.693,3.389a2.954,2.954,0,0,1-.4.029A2.246,2.246,0,0,1,64.677,85.369Zm-36.419-1.412c-.037-1.352.937-1.7,2.259-1.694a4.109,4.109,0,0,0,1.691-.142,4.1,4.1,0,0,1,1.693-.141,66.986,66.986,0,0,0,6.778-.565c2.573.033,4.527-.552,7.057-.563a11.739,11.739,0,0,1,3.39-.282c.509-.716,2.2-.242,2.823-.849,1.386-.163,2.082.366,2.259,1.413-.093,1.6-1.814,1.573-3.107,1.975-.506.343-1.642.051-1.975.564a3.1,3.1,0,0,1-.958,0c-.585-.056-1.169-.112-1.3.286a59.9,59.9,0,0,0-9.036.847h-6.213c-.853,0-1.773.086-2.622.086C29.832,84.89,28.8,84.728,28.258,83.957Zm-2.543-10.166c-.539-1.211.323-3.177,0-5.081.383-.086.234-.707.284-1.129a5.387,5.387,0,0,0,1.125-1.976,29.537,29.537,0,0,1,8.754-5.082h4.8c3.252,1.651,4.409,6.868,3.387,11.857a87.753,87.753,0,0,0-11.291,1.695,17.419,17.419,0,0,0-3.215.023c-.639.046-1.253.091-1.818.091A4.085,4.085,0,0,1,25.714,73.791Zm3.106-6.211a8.163,8.163,0,0,0-.562,3.67,22.124,22.124,0,0,0,6.774-.564c.615-.19-.535-.939-.849-1.13-.237-.61-.729-.961-.564-1.975,1.53-.94,2.6.7,3.955.846.221.625.986.707,1.411,1.129.178.688.513.533.984.379a1.754,1.754,0,0,1,.991-.1c.213-2.751-.194-4.885-1.411-6.212h-4.8C32.708,64.88,30.365,65.835,28.82,67.581Zm-21.46,4.518c-.823-1.687.152-4.886,2.26-3.672.571,1.3.707,2.71-.282,3.672-.661.039-.92.186-1.254.186A1.8,1.8,0,0,1,7.361,72.1Zm83.573-3.389c-.676-2.436,1.282-3.523,3.106-2.542.473.472.225,1.66.283,2.542a11.824,11.824,0,0,1-1.692,1.129C91.873,69.655,91.557,69.03,90.934,68.71Zm-34.444.566c.061.015-.527-.259-.563-.283-.949-.625-.939-1.663-1.414-2.826a4.322,4.322,0,0,1,6.776-3.1,5.368,5.368,0,0,1,.849,3.1c-.268,1.954-2.567,3.26-4.549,3.26A3.836,3.836,0,0,1,56.49,69.276Zm1.409-4.52v.849c.46.462,1.777.339,1.7-.565,0-.418-.393-.58-.806-.58A1.323,1.323,0,0,0,57.9,64.757Zm7.625,3.954c-1.057-1.124-.955-3.544-.562-5.365,1.787-2.308,6.687-1.361,7.9.848a4.871,4.871,0,0,1-2.261,5.083c-.547.007-1.1.021-1.641.021A7.086,7.086,0,0,1,65.524,68.71Zm2.26-3.1c-.232,1.021,2.132.68,1.977,0a1.771,1.771,0,0,0-1.977,0Zm7.339.563c-.314-1.534-.312-2.962.566-3.952,1.645-1.228,4.49-.139,5.366,1.13a2.539,2.539,0,0,1-2.739,4C76.953,67.344,75.6,66.984,75.123,66.168Zm3.672-.845c.193-.76-.583-.545-.848-.847C77.778,65.208,78.06,65.492,78.8,65.323Zm-36.7-24.846a6.956,6.956,0,0,1-.567-3.67,4.31,4.31,0,0,1,1.695-1.976c.382-.747,1.656-.6,2.259-1.129.829-.022,1.592.014,2.308.049,1.79.089,3.28.178,4.749-.614a8.445,8.445,0,0,0,3.412.171,8.213,8.213,0,0,1,3.082.111c1.531.908,1.459,4.663.282,5.93-1.724,1.45-4.919,1.431-8.116,1.412-.59,0-1.182-.007-1.763,0a25.925,25.925,0,0,1-4.323.54A4.746,4.746,0,0,1,42.092,40.476Zm1.974-2.258c.771.625,2.268.175,2.827-.283v-1.977C45.46,36.221,44.168,36.625,44.065,38.218Zm10.447-.283a3.634,3.634,0,0,0,3.106-.283v-1.975h-3.106Zm-5.081-1.977c-.137.891.508,1,.28,1.977h1.7v-2.258c-.139,0-.283,0-.427-.006s-.269-.007-.4-.007A1.587,1.587,0,0,0,49.431,35.958Zm-12.422-3.388a8.192,8.192,0,0,1-3.39-1.41.773.773,0,0,0-.562-.848c-.027-.446.132-1.076-.283-1.128-.046-1.74.608-2.78.563-4.52a.773.773,0,0,0,.563-.846,8.467,8.467,0,0,1,2.541-1.412c2.553-.487,5.118.606,5.932,2.258.2,3.125-.418,5.417-1.695,7.06a8.424,8.424,0,0,1-3.428.85Q37.132,32.574,37.009,32.57Zm-.283-6.21c-.07,1.343-.877,1.945-1.129,3.106a4.669,4.669,0,0,0,3.668.565c.841-.872.6-2.967.283-4.238q-.348-.032-.664-.032A3.482,3.482,0,0,0,36.726,26.36Zm23.152,4.235c-.976-1.191-1.029-3.3-1.13-5.364.519-3.238,3.961-5.293,7.621-3.671.292.742,1.122.95,1.414,1.693-.049.33.06.5.28.565.25,4.122-2.157,7.285-5.663,7.285A6.9,6.9,0,0,1,59.878,30.6Zm1.41-1.977a2.851,2.851,0,0,0,3.955-2.54c-.361-.858-.776-1.2-1.2-1.2C62.9,24.883,61.7,27.322,61.289,28.618Z"/>
    </svg>
    <a href="/home" class="navbar-title">HS</a>
  </div>
  <button class="hamburger" id="hamburger-btn" aria-label="Open menu">
    <span class="hamburger-line"></span>
    <span class="hamburger-line"></span>
  </button>
  <ul class="navbar-links" id="navbar-links">
    {links.map(link => (
      <li>
        <a href={link.href}>{link.label}</a>
      </li>
    ))}
    <li class="theme-toggle-mobile">
      <button id="theme-toggle" class="theme-toggle">
        <svg class="lamp-icon" width="32" height="32" viewBox="0 0 24 24" fill="currentColor">
          <path d="M6.293,17.293l-3,3a1,1,0,0,0,1.414,1.414l3-3a1,1,0,0,0-1.414-1.414Z"/><path d="M20.707,20.293l-3-3a1,1,0,0,0-1.414,1.414l3,3a1,1,0,0,0,1.414-1.414Z"/><path d="M12,17a1,1,0,0,0-1,1v3a1,1,0,0,0,2,0V18A1,1,0,0,0,12,17Z"/><path d="M6,15H18a1,1,0,0,0,0-2H17V12a5,5,0,0,0-4.02-4.9A.826.826,0,0,0,13,7V3a1,1,0,0,0-2,0V7a.826.826,0,0,0,.02.1A5,5,0,0,0,7,12v1H6a1,1,0,0,0,0,2Z"/>
        </svg>
      </button>
    </li>
  </ul>
</nav>

<script>
  function toggleMenu(e) {
    const links = document.getElementById("navbar-links");
    if (links) {
      links.classList.toggle("open");
    }
  }

  function handleDocumentClick(e) {
    const btn = document.getElementById("hamburger-btn");
    const links = document.getElementById("navbar-links");
    if (
      links &&
      links.classList.contains("open") &&
      !links.contains(e.target) &&
      !btn.contains(e.target)
    ) {
      links.classList.remove("open");
    }
  }

  function initializeHamburgerMenu() {
    const btn = document.getElementById("hamburger-btn");
    if (btn) {
      btn.removeEventListener("click", toggleMenu);
      btn.addEventListener("click", toggleMenu);
    }
    document.removeEventListener("click", handleDocumentClick);
    document.addEventListener("click", handleDocumentClick);
  }

  document.addEventListener("DOMContentLoaded", initializeHamburgerMenu);
  document.addEventListener("astro:page-load", initializeHamburgerMenu);
</script>

<style>
  @font-face {
    font-family: 'VT323';
    src: url('/fonts/VT323-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }
  @font-face {
    font-family: 'PressStart2P';
    src: url('/fonts/PressStart2P-Regular.ttf') format('truetype');
    font-weight: normal;
    font-style: normal;
    font-display: swap;
  }

  .navbar {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    max-width: 1140px;
    height: 40px;
    margin: 0 auto;
    padding: 1.5rem 3.2rem; 
    background-color: var(--navbar-background);
    color: var(--navbar-text-color);
    font-size: 20px;
    font-family: var(--header-font);
    display: flex;
    justify-content: space-between;
    align-items:center;
    text-shadow: 0px 0px 3px var(--navbar-glow-color), 0px 0px 3px var(--navbar-glow-color);
    z-index: 1000;
  }

  .navbar-robot {
    color: var(--text-color);
    width: 102px;
    height: 102px;
    padding-top: 1rem;
    padding-left: 1rem;
    vertical-align: middle;
  }

  .hamburger-icon {
    color: var(--text-color);
    width: 42px;
    height: 42px;
    display: block;
    padding:0;
    color: var(--text-color); /* Only works for inline SVG with fill="currentColor" */
  }

  .lamp-icon {
    color: var(--text-color);
    width: 42px;
    height: 42px;
  }

  .navbar-links {
    list-style: none;
    display: none; /* Always hidden by default */
    flex-direction: column;
    gap: 1rem;
    margin: 0; /* Changed from 1rem to 0 */
    padding: 2rem 1rem 1rem 1rem; /* Added specific padding instead of margin */
    width: 300px;
    max-width: 90vw;
    position: fixed;
    top: 0px;
    left:50%;
    transform: translate(-50%, 0);
    background: var(--navbar-background);
    z-index: 999;
    align-items: center;
    text-align: center;
    border: 2px solid var(--content-border-color);
    border-radius: 0.5rem;
    box-shadow: 0 0 2px var(--navbar-glow-color);
  }
  .navbar-links.open {
    display: flex;
  }

  .navbar-links li {
    list-style: none;
  }

  .navbar-links a {
    color: var(--navbar-text-color);
    text-decoration: inherit;
    padding: 0.3em 0.3em;
    border-radius: 0.0em 0em 0.0em 0em;
    transition: background-color 0.2s, transform 0.2s;
  }

  .navbar-links a:hover {
    background-color: var(--button-hover);
    transform: scale(1.15);
    box-shadow: 0 0 0px var(--button-hover);
  }

  .theme-toggle {
    background-color: var(--background-color);
    border: none;
    padding: 0.5rem 1rem;
    cursor: pointer;
    font-weight: bold;
    font-size: 20px;
  }

  .lamp-icon:hover {
    color: var(--the-yellow);
    transform: scale(1.2);
  }

  .hamburger {
    display: block;
    font-size: 2rem;
    background: none;
    border: none;
    cursor: pointer;
    color: var(--text-color);
  }

  .hamburger-line {
    display: block;
    width: 32px;
    height: 4px;
    margin: 6px 0;
    background: var(--text-color);
    border-radius: 2px;
    transition: background 0.2s;
  }
</style>